<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Galactic Tower Defense</title><link rel="icon" href="favicon.svg" type="image/svg+xml"><style>
:root{color-scheme:dark;--bd:color-mix(in oklab,#8cf 26%,#000)}*{box-sizing:border-box;font:12px/1.2 system-ui,Inter,Segoe UI,Roboto,Helvetica,Arial}html,body{height:100%;margin:0;background:#05060a;color:#eaf6ff;overflow:hidden}
#c{position:fixed;inset:0;width:100vw;height:100vh;touch-action:none;z-index:0}
#hud{position:fixed;top:10px;left:10px;display:flex;gap:10px;align-items:flex-end;padding:10px 12px;border-radius:14px;border:1px solid var(--bd);background:color-mix(in oklab,#0b1020 84%,transparent);backdrop-filter:blur(10px) saturate(1.2);user-select:none;z-index:3}
.k{display:flex;flex-direction:column;gap:2px;min-width:86px}.k b{font-size:18px;letter-spacing:.2px}.k span{font-size:10px;opacity:.7;letter-spacing:1.1px}
#panel{position:fixed;left:50%;bottom:10px;transform:translateX(-50%);display:flex;gap:10px;align-items:center;padding:8px 10px;border-radius:16px;border:1px solid var(--bd);background:color-mix(in oklab,#0b1020 84%,transparent);backdrop-filter:blur(10px) saturate(1.2);user-select:none;z-index:3}
#sig{position:fixed;right:12px;top:12px;width:78px;height:78px;opacity:.75;filter:drop-shadow(0 6px 18px #0008);z-index:2}
#note{position:fixed;left:50%;top:10px;transform:translateX(-50%);padding:8px 12px;border-radius:999px;border:1px solid color-mix(in oklab,#8cf 24%,#000);background:color-mix(in oklab,#0b1020 82%,transparent);backdrop-filter:blur(10px) saturate(1.2);font-size:11px;letter-spacing:.3px;opacity:0;transition:.2s opacity, .2s transform;pointer-events:none}
#note.show{opacity:1;transform:translate(-50%,0)}
.slot{display:flex;gap:6px;align-items:center}
.slot button{width:38px;height:38px;border-radius:12px;border:1px solid color-mix(in oklab,#8cf 22%,#000);background:color-mix(in oklab,#0b1020 70%,#000);color:#dff;display:grid;place-items:center;cursor:pointer;transition:.12s transform,.12s border-color,.12s background}
.slot button:hover{transform:translateY(-1px)}.slot button.on{border-color:#bff;background:color-mix(in oklab,#1a284b 78%,#000)}
#up{padding:10px 12px;border-radius:14px;border:1px solid var(--bd);background:linear-gradient(180deg,color-mix(in oklab,#16284f 92%,#000),color-mix(in oklab,#091023 92%,#000));color:#eaf6ff;cursor:pointer;font-weight:900;letter-spacing:.3px;transition:.12s transform,.12s filter}
#up:hover{transform:translateY(-1px);filter:saturate(1.1)}#up:disabled{opacity:.35;cursor:not-allowed;transform:none;filter:none}
#hint{font-size:11px;opacity:.84;max-width:88ch;line-height:1.15;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
#tip{position:fixed;z-index:9;pointer-events:none;opacity:0;transform:translate3d(0,0,0);padding:8px 10px;border-radius:12px;border:1px solid color-mix(in oklab,#8cf 22%,#000);background:color-mix(in oklab,#071022 88%,#000);backdrop-filter:blur(10px) saturate(1.2);font-size:11px;line-height:1.22;white-space:nowrap}
#menu{position:fixed;inset:0;display:grid;place-items:center;background:color-mix(in oklab,#000 72%,transparent);backdrop-filter:blur(12px) saturate(1.25);z-index:4}
.card{width:min(1060px,94vw);max-height:92vh;overflow:auto;padding:18px 18px 14px;border-radius:18px;border:1px solid var(--bd);background:color-mix(in oklab,#071022 92%,#000);box-shadow:0 30px 120px #0008}
.card h1{margin:0 0 6px;font-size:20px}.card p{margin:0 0 12px;font-size:12px;opacity:.85}
.cols{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.col h2{margin:8px 0 6px;font-size:12px;letter-spacing:1.1px;text-transform:uppercase;display:flex;justify-content:space-between;opacity:.9}
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
.grid button{display:flex;flex-direction:column;gap:4px;padding:8px 8px 6px;border-radius:14px;border:1px solid color-mix(in oklab,#8cf 20%,#000);background:color-mix(in oklab,#0b1020 68%,#000);color:#dff;cursor:pointer;user-select:none;transition:.12s transform,.12s border-color,.12s background}
.grid button:hover{transform:translateY(-1px)}.grid button.sel{border-color:#bff;background:color-mix(in oklab,#1a284b 78%,#000)}
.grid button span{font-size:18px}.grid button b{font-size:11px;font-weight:850;line-height:1.1}.grid button i{font-style:normal;font-size:10px;opacity:.75}
.row{display:flex;gap:10px;justify-content:flex-end;margin-top:12px;flex-wrap:wrap}
.row button{padding:10px 14px;border-radius:14px;border:1px solid var(--bd);background:linear-gradient(180deg,color-mix(in oklab,#16284f 92%,#000),color-mix(in oklab,#091023 92%,#000));color:#eaf6ff;cursor:pointer;font-weight:900;letter-spacing:.3px;transition:.12s transform,.12s filter}
.row button:hover{transform:translateY(-1px);filter:saturate(1.1)}.row button:disabled{opacity:.35;cursor:not-allowed;transform:none;filter:none}
.small{margin-top:10px;font-size:11px;opacity:.82;line-height:1.25}
@media (max-width:900px){.cols{grid-template-columns:1fr}.grid{grid-template-columns:repeat(4,1fr)}}
</style></head><body>
<canvas id=c></canvas>

<div id=hud>
  <div class=k><b id=wave>1</b><span>WAVE</span></div>
  <div class=k><b id=core>50</b><span>CORE</span></div>
  <div class=k><b id=cr>0</b><span>CREDITS</span></div>
  <div class=k><b id=sc>1</b><span>BEST WAVE</span></div>
</div>
<div id=note></div>
<svg id=sig viewBox="0 0 120 120" aria-hidden=true>
  <defs><radialGradient id=sg cx=".5" cy=".5" r=".6"><stop offset="0" stop-color="#7ff"/><stop offset=".7" stop-color="#36b"/><stop offset="1" stop-color="#0000"/></radialGradient></defs>
  <circle cx="60" cy="60" r="44" fill="url(#sg)" opacity=".65"/>
  <g id=sgn fill="none" stroke="#9ef" stroke-width="2" stroke-linecap="round" opacity=".8">
    <circle cx="60" cy="60" r="32"/>
    <path d="M20 60h80M60 20v80"/>
    <circle cx="60" cy="60" r="10" fill="#cfe"/>
  </g>
</svg>

<div id=panel>
  <div class=slot id=ts></div>
  <div class=slot id=ws></div>
  <div class=slot id=speed></div>
  <button id=up disabled>Upgrade</button>
  <div id=hint></div>
</div>

<div id=tip></div>

<div id=menu><div class=card>
  <h1>Galactic Tower Defense</h1>
  <p>Pick 4 chassis and 3 weapons. Build only from your loadout. Enemies are slower with lower HP, and bosses arrive every few waves. New waves begin only after the last enemy is cleared. End of each wave: bank earns 20% interest. Anti-monoculture: stacking the same weapon type reduces efficiency.</p>
  <div class=cols>
    <div class=col><h2>Chassis <i id=tc>0/4</i></h2><div class=grid id=tl></div></div>
    <div class=col><h2>Weapons <i id=wc>0/3</i></h2><div class=grid id=wl></div></div>
  </div>
  <div class=row><button id=start disabled>Start</button><button id=rand>Random</button><button id=preset>Preset</button></div>
  <div class=small>Controls: click empty space to place. Click tower to select. Upgrade button or U upgrades selected tower. Right click tower to sell. Q/E cycle chassis. 1-3 select weapon. [ / ] or - / + to change speed. Space pause.</div>
</div></div>

<script type=module src="./js/main.js"></script>
</body></html>
